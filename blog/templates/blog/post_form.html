{% extends "blog/spite_base.html" %}
{% load crispy_forms_tags %}
{% block content %}
{% endblock %}
{% block form %}
    <div class="form-container">
        <form method="post" enctype="multipart/form-data" onsubmit="disableSubmitButton()">
            {% csrf_token %}
            {% crispy postForm postForm.helper %}
            {% if form.errors %}
            <div class="alert alert-danger">
                <ul>
                    {% for field, errors in form.errors.items %}
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        </form>
    </div>
{% endblock %}
{% block feed %}
{% endblock %}

<script>
    function disableSubmitButton() {
        var submitButton = document.getElementById('submit-id-submit');
        submitButton.disabled = true;
        submitButton.value = 'Posting...';  // Change the button text
    }
</script>